class PeekingIterator:
    def __init__(self, iterator):
        self.iterator = iterator
        self.peeked_element = None
        self.has_peeked = False

    def next(self):
        if self.has_peeked:
            result = self.peeked_element
            self.peeked_element = None
            self.has_peeked = False
            return result
        else:
            return self.iterator.next()

    def hasNext(self):
        return self.has_peeked or self.iterator.hasNext()

    def peek(self):
        if not self.has_peeked:
            self.peeked_element = self.iterator.next()
            self.has_peeked = True
        return self.peeked_element
